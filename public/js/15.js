/*! For license information please see 15.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[15],{7545:(t,e,a)=>{a.d(e,{Z:()=>o});var r=a(1519),n=a.n(r)()((function(t){return t[1]}));n.push([t.id,".pos-container[data-v-4c383c5d]{background:#f5f7fa;display:flex;flex-direction:column;height:100vh;overflow:hidden}.offline-banner[data-v-4c383c5d]{background:#ff9800;color:#fff;font-size:14px;padding:8px;text-align:center}.pos-topbar[data-v-4c383c5d]{align-items:center;background:#fff;border-bottom:1px solid #e0e0e0;display:flex;gap:20px;justify-content:space-between;padding:10px 20px}.pos-topbar h4[data-v-4c383c5d]{font-size:18px;margin:0}.cart-tabs[data-v-4c383c5d]{gap:5px}.cart-tab[data-v-4c383c5d],.cart-tabs[data-v-4c383c5d]{align-items:center;display:flex}.cart-tab[data-v-4c383c5d]{background:#f0f0f0;border-radius:20px;cursor:pointer;gap:8px;padding:8px 16px;transition:all .2s}.cart-tab.active[data-v-4c383c5d]{background:#2196f3;color:#fff}.cart-tab .item-count[data-v-4c383c5d]{background:rgba(0,0,0,.1);border-radius:10px;font-size:12px;padding:2px 8px}.cart-tab .close-cart[data-v-4c383c5d]{background:none;border:none;cursor:pointer;opacity:.6;padding:2px}.new-cart-btn[data-v-4c383c5d]{align-items:center;background:none;border:2px dashed #ccc;border-radius:50%;cursor:pointer;display:flex;height:36px;justify-content:center;width:36px}.pos-topbar-right[data-v-4c383c5d]{display:flex;gap:10px}.pos-topbar-right .badge[data-v-4c383c5d]{background:#f44336;border-radius:10px;color:#fff;font-size:10px;margin-left:5px;padding:2px 6px}.pos-main[data-v-4c383c5d],.pos-products[data-v-4c383c5d]{display:flex;flex:1;overflow:hidden}.pos-products[data-v-4c383c5d]{flex-direction:column;padding:20px}.search-section[data-v-4c383c5d]{margin-bottom:20px}.search-input-wrapper[data-v-4c383c5d]{align-items:center;display:flex;position:relative}.search-input-wrapper i[data-v-4c383c5d]{color:#888;left:15px;position:absolute}.search-input[data-v-4c383c5d]{border:2px solid #e0e0e0;border-radius:10px;font-size:16px;padding:15px 45px;transition:border-color .2s;width:100%}.search-input[data-v-4c383c5d]:focus{border-color:#2196f3;outline:none}.clear-search[data-v-4c383c5d]{background:none;border:none;color:#888;cursor:pointer;position:absolute;right:15px}.product-grid[data-v-4c383c5d]{display:grid;flex:1;gap:15px;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));overflow-y:auto;padding-right:10px}.empty-state[data-v-4c383c5d],.loading-state[data-v-4c383c5d]{color:#888;grid-column:1/-1;padding:40px;text-align:center}.empty-state i[data-v-4c383c5d]{font-size:48px;margin-bottom:10px;opacity:.5}.product-card[data-v-4c383c5d]{background:#fff;border-radius:10px;box-shadow:0 2px 4px rgba(0,0,0,.05);cursor:pointer;padding:15px;transition:all .2s}.product-card[data-v-4c383c5d]:hover{box-shadow:0 4px 12px rgba(0,0,0,.1);transform:translateY(-2px)}.product-image[data-v-4c383c5d]{align-items:center;background:#f5f5f5;border-radius:8px;display:flex;height:80px;justify-content:center;margin-bottom:10px;overflow:hidden;width:100%}.product-image img[data-v-4c383c5d]{max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain}.product-image i[data-v-4c383c5d]{color:#ccc;font-size:32px}.product-name[data-v-4c383c5d]{font-size:14px;font-weight:600;margin-bottom:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.product-price[data-v-4c383c5d]{color:#2196f3;font-size:16px;font-weight:700}.product-stock[data-v-4c383c5d]{color:#888;font-size:12px}.product-stock.low-stock[data-v-4c383c5d]{color:#f44336}.pos-cart[data-v-4c383c5d]{background:#fff;border-left:1px solid #e0e0e0;display:flex;flex-direction:column;width:400px}.customer-section[data-v-4c383c5d]{border-bottom:1px solid #e0e0e0;padding:15px}.selected-customer[data-v-4c383c5d]{align-items:center;background:#e3f2fd;border-radius:8px;display:flex;gap:10px;padding:10px 15px}.selected-customer .btn-clear[data-v-4c383c5d]{background:none;border:none;color:#888;cursor:pointer;margin-left:auto}.select-customer-btn[data-v-4c383c5d]{background:none;border:2px dashed #ccc;border-radius:8px;color:#666;cursor:pointer;padding:12px;transition:all .2s;width:100%}.select-customer-btn[data-v-4c383c5d]:hover{border-color:#2196f3;color:#2196f3}.cart-items[data-v-4c383c5d]{flex:1;overflow-y:auto;padding:15px}.empty-cart[data-v-4c383c5d]{color:#888;padding:40px 20px;text-align:center}.empty-cart i[data-v-4c383c5d]{font-size:48px;margin-bottom:10px;opacity:.3}.cart-item[data-v-4c383c5d]{align-items:center;background:#f9f9f9;border-radius:8px;cursor:pointer;display:grid;gap:10px;grid-template-columns:1fr auto auto auto;margin-bottom:10px;padding:12px;transition:all .2s}.cart-item.selected[data-v-4c383c5d]{background:#e3f2fd;border:1px solid #2196f3}.item-name[data-v-4c383c5d]{font-size:14px;font-weight:500}.item-name .variation[data-v-4c383c5d]{color:#888;font-size:12px;font-weight:400}.item-price[data-v-4c383c5d]{color:#666;font-size:12px}.item-controls[data-v-4c383c5d]{align-items:center;display:flex;gap:5px}.qty-btn[data-v-4c383c5d]{background:#fff;cursor:pointer;font-size:16px;height:28px;width:28px}.qty-btn[data-v-4c383c5d],.qty-input[data-v-4c383c5d]{border:1px solid #ddd;border-radius:4px}.qty-input[data-v-4c383c5d]{padding:4px;text-align:center;width:40px}.item-total[data-v-4c383c5d]{font-weight:600;min-width:70px;text-align:right}.item-actions[data-v-4c383c5d]{display:flex;gap:5px}.btn-discount[data-v-4c383c5d],.btn-remove[data-v-4c383c5d]{border:none;border-radius:4px;cursor:pointer;font-size:12px;height:28px;width:28px}.btn-discount[data-v-4c383c5d]{background:#fff3e0;color:#ff9800}.btn-remove[data-v-4c383c5d]{background:#ffebee;color:#f44336}.cart-summary[data-v-4c383c5d]{background:#fafafa;border-top:1px solid #e0e0e0;padding:15px}.summary-row[data-v-4c383c5d]{display:flex;justify-content:space-between;padding:8px 0}.summary-row.discount[data-v-4c383c5d]{color:#4caf50}.summary-row.tax[data-v-4c383c5d]{color:#888;font-size:14px}.summary-row.total[data-v-4c383c5d]{border-top:2px solid #e0e0e0;font-size:20px;font-weight:700;margin-top:10px;padding-top:15px}.add-discount-btn[data-v-4c383c5d]{color:#2196f3;font-size:14px}.add-discount-btn[data-v-4c383c5d],.btn-edit-discount[data-v-4c383c5d]{background:none;border:none;cursor:pointer}.btn-edit-discount[data-v-4c383c5d]{color:inherit;padding:0 5px}.cart-actions[data-v-4c383c5d]{border-top:1px solid #e0e0e0;display:flex;gap:10px;padding:15px}.btn-park[data-v-4c383c5d]{flex:1}.btn-pay[data-v-4c383c5d]{flex:2;font-size:18px;padding:15px}.modal-overlay[data-v-4c383c5d]{align-items:center;background:rgba(0,0,0,.5);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.modal-content[data-v-4c383c5d]{background:#fff;border-radius:12px;display:flex;flex-direction:column;max-height:90vh;max-width:500px;overflow:hidden;width:90%}.modal-header[data-v-4c383c5d]{align-items:center;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;padding:15px 20px}.modal-header h5[data-v-4c383c5d]{margin:0}.close-btn[data-v-4c383c5d]{background:none;border:none;color:#888;cursor:pointer;font-size:20px}.modal-body[data-v-4c383c5d]{overflow-y:auto;padding:20px}.variations-grid[data-v-4c383c5d]{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}.variation-card[data-v-4c383c5d]{border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;padding:15px;text-align:center;transition:all .2s}.variation-card[data-v-4c383c5d]:hover{border-color:#2196f3}.variation-card.out-of-stock[data-v-4c383c5d]{cursor:not-allowed;opacity:.5}.variation-name[data-v-4c383c5d]{font-weight:600;margin-bottom:5px}.variation-price[data-v-4c383c5d]{color:#2196f3;font-weight:700}.variation-stock[data-v-4c383c5d]{color:#888;font-size:12px}.customer-search[data-v-4c383c5d]{margin-bottom:15px}.customer-list[data-v-4c383c5d]{max-height:200px;overflow-y:auto}.customer-item[data-v-4c383c5d]{border:1px solid #e0e0e0;border-radius:8px;cursor:pointer;margin-bottom:8px;padding:12px;transition:all .2s}.customer-item[data-v-4c383c5d]:hover{background:#f5f5f5}.customer-name[data-v-4c383c5d]{font-weight:600}.customer-phone[data-v-4c383c5d]{color:#888;font-size:14px}.create-customer-form[data-v-4c383c5d]{border-top:1px solid #e0e0e0;margin-top:20px;padding-top:20px}.form-group[data-v-4c383c5d]{margin-bottom:10px}.discount-type-toggle[data-v-4c383c5d]{display:flex;gap:10px;margin-bottom:20px}.discount-type-toggle button[data-v-4c383c5d]{background:#fff;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;flex:1;padding:12px;transition:all .2s}.discount-type-toggle button.active[data-v-4c383c5d]{background:#e3f2fd;border-color:#2196f3}.discount-input[data-v-4c383c5d]{margin-bottom:20px}.discount-actions[data-v-4c383c5d]{display:flex;gap:10px;justify-content:flex-end}.payment-modal[data-v-4c383c5d]{max-width:600px}.payment-summary[data-v-4c383c5d]{background:#f5f5f5;border-radius:8px;margin-bottom:20px;padding:20px}.remaining[data-v-4c383c5d],.total-due[data-v-4c383c5d]{display:flex;font-size:18px;justify-content:space-between;margin-bottom:10px}.remaining .amount[data-v-4c383c5d],.total-due .amount[data-v-4c383c5d]{font-weight:700}.change[data-v-4c383c5d],.paid-so-far[data-v-4c383c5d]{color:#666;display:flex;font-size:14px;justify-content:space-between}.change .amount[data-v-4c383c5d]{font-weight:600}.payment-methods[data-v-4c383c5d]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}.payment-method-btn[data-v-4c383c5d]{background:#fff;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;flex:1;min-width:100px;padding:15px;text-align:center;transition:all .2s}.payment-method-btn.active[data-v-4c383c5d]{background:#e3f2fd;border-color:#2196f3}.payment-method-btn i[data-v-4c383c5d]{display:block;font-size:24px;margin-bottom:5px}.payment-input[data-v-4c383c5d]{margin-bottom:15px}.payment-input label[data-v-4c383c5d]{display:block;font-weight:500;margin-bottom:5px}.amount-input[data-v-4c383c5d]{font-size:24px;padding:15px;text-align:center}.quick-amounts[data-v-4c383c5d]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}.quick-amount-btn[data-v-4c383c5d]{background:#fff;border:1px solid #e0e0e0;border-radius:20px;cursor:pointer;padding:10px 20px;transition:all .2s}.quick-amount-btn[data-v-4c383c5d]:hover{background:#f5f5f5}.payments-list[data-v-4c383c5d],.reference-input[data-v-4c383c5d]{margin-bottom:20px}.payments-list[data-v-4c383c5d]{background:#f9f9f9;border-radius:8px;padding:15px}.payments-list h6[data-v-4c383c5d]{margin-bottom:10px}.payment-item[data-v-4c383c5d]{align-items:center;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;padding:8px 0}.payment-item[data-v-4c383c5d]:last-child{border-bottom:none}.btn-remove-payment[data-v-4c383c5d]{background:none;border:none;color:#f44336;cursor:pointer}.payment-actions[data-v-4c383c5d]{display:flex;gap:10px}.btn-complete[data-v-4c383c5d]{flex:1;font-size:16px;padding:15px}.parked-sales-list[data-v-4c383c5d]{max-height:400px;overflow-y:auto}.parked-sale-item[data-v-4c383c5d]{align-items:center;border:1px solid #e0e0e0;border-radius:8px;cursor:pointer;display:flex;gap:15px;margin-bottom:10px;padding:15px;transition:all .2s}.parked-sale-item[data-v-4c383c5d]:hover{background:#f5f5f5}.sale-info[data-v-4c383c5d]{flex:1}.sale-number[data-v-4c383c5d]{font-weight:600}.sale-name[data-v-4c383c5d]{color:#666;font-size:14px}.sale-customer[data-v-4c383c5d]{color:#888;font-size:12px}.sale-details[data-v-4c383c5d]{text-align:right}.items-count[data-v-4c383c5d]{color:#888;font-size:12px}.sale-total[data-v-4c383c5d]{color:#2196f3;font-weight:700}.btn-delete-parked[data-v-4c383c5d]{background:none;border:none;color:#f44336;cursor:pointer;padding:10px}.receipt-modal[data-v-4c383c5d]{max-width:400px;text-align:center}.success-icon[data-v-4c383c5d]{color:#4caf50;font-size:64px}.receipt-info[data-v-4c383c5d],.success-icon[data-v-4c383c5d]{margin-bottom:20px}.receipt-info .total[data-v-4c383c5d]{font-size:32px;font-weight:700}.receipt-info .change[data-v-4c383c5d]{color:#4caf50;font-size:18px}.receipt-actions[data-v-4c383c5d]{display:flex;gap:10px}.receipt-actions button[data-v-4c383c5d]{flex:1}",""]);const o=n},9015:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var r=a(9669),n=a.n(r);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(){s=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,r=Object.defineProperty||function(t,e,a){t[e]=a.value},n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",d=n.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,a){return t[e]=a}}function u(t,e,a,n){var o=e&&e.prototype instanceof v?e:v,s=Object.create(o.prototype),i=new I(n||[]);return r(s,"_invoke",{value:k(t,a,i)}),s}function p(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var m={};function v(){}function f(){}function h(){}var y={};l(y,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(F([])));g&&g!==e&&a.call(g,i)&&(y=g);var x=h.prototype=v.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(r,s,i,c){var d=p(t[r],t,s);if("throw"!==d.type){var l=d.arg,u=l.value;return u&&"object"==o(u)&&a.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(d.arg)}var s;r(this,"_invoke",{value:function(t,a){function r(){return new e((function(e,r){n(t,a,e,r)}))}return s=s?s.then(r,r):r()}})}function k(t,e,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return M()}for(a.method=n,a.arg=o;;){var s=a.delegate;if(s){var i=w(s,a);if(i){if(i===m)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var c=p(t,e,a);if("normal"===c.type){if(r=a.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r="completed",a.method="throw",a.arg=c.arg)}}}function w(t,e){var a=e.method,r=t.iterator[a];if(void 0===r)return e.delegate=null,"throw"===a&&t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,m;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function F(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:M}}function M(){return{value:void 0,done:!0}}return f.prototype=h,r(x,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:f,configurable:!0}),f.displayName=l(h,d,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},_(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,a,r,n,o){void 0===o&&(o=Promise);var s=new C(u(e,a,r,n),o);return t.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(x),l(x,d,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),a=[];for(var r in e)a.push(r);return a.reverse(),function t(){for(;a.length;){var r=a.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=F,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(a,r){return s.type="throw",s.arg=t,e.next=a,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),P(a),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var n=r.arg;P(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:F(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},t}function i(t,e,a,r,n,o,s){try{var i=t[o](s),c=i.value}catch(t){return void a(t)}i.done?e(c):Promise.resolve(c).then(r,n)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var o=t.apply(e,a);function s(t){i(o,r,n,s,c,"next",t)}function c(t){i(o,r,n,s,c,"throw",t)}s(void 0)}))}}function d(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}const u={name:"PosMain",data:function(){return{isOnline:navigator.onLine,settings:{tax_rate:0,payment_methods:["cash","card","wallet","bank_transfer"]},products:[],searchQuery:"",loading:!1,searchTimeout:null,selectedProduct:null,showVariationModal:!1,carts:[this.createEmptyCart()],currentCartIndex:0,selectedItemIndex:-1,showCustomerModal:!1,customerSearch:"",customers:[],newCustomer:{customer_name:"",phone1:""},showDiscountModal:!1,discountTarget:"sale",discountItemIndex:-1,discountForm:{type:"percentage",amount:0},showPaymentModal:!1,selectedPaymentMethod:"cash",paymentAmount:0,paymentReference:"",payments:[],showParkedModal:!1,parkedSales:[],showReceiptModal:!1,completedSale:null}},computed:{currentCart:function(){return this.carts[this.currentCartIndex]},parkedSalesCount:function(){return this.parkedSales.length},availablePaymentMethods:function(){var t=this;return[{value:"cash",label:"Cash",icon:"fas fa-money-bill-wave"},{value:"card",label:"Card",icon:"fas fa-credit-card"},{value:"wallet",label:"Wallet",icon:"fas fa-wallet"},{value:"bank_transfer",label:"Bank Transfer",icon:"fas fa-university"}].filter((function(e){var a;return null===(a=t.settings.payment_methods)||void 0===a?void 0:a.includes(e.value)}))},totalPaid:function(){return this.payments.reduce((function(t,e){return t+e.amount}),0)},remainingAmount:function(){return Math.max(0,this.currentCart.total_amount-this.totalPaid)},changeAmount:function(){return this.totalPaid<=this.currentCart.total_amount?0:this.totalPaid-this.currentCart.total_amount},isFullyPaid:function(){return this.totalPaid>=this.currentCart.total_amount},canCompleteSale:function(){return this.payments.length>0&&this.totalPaid>=this.currentCart.total_amount},quickAmounts:function(){for(var t=this.remainingAmount>0?this.remainingAmount:this.currentCart.total_amount,e=[t],a=0,r=[5,10,20,50,100,200,500,1e3];a<r.length;a++){var n=r[a];n>t&&e.length<6&&e.push(n)}return d(new Set(e)).slice(0,6)}},methods:{createEmptyCart:function(){return{id:null,customer:null,items:[],subtotal:0,discount_type:null,discount_amount:0,discount_value:0,tax_rate:0,tax_amount:0,total_amount:0}},formatCurrency:function(t){return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t||0)},initialize:function(){var t=this;return c(s().mark((function e(){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n().get("/dashboard/api/pos/initialize");case 3:a=e.sent,t.settings=a.data.data.settings,t.parkedSales=a.data.data.parked_sales||[],(r=a.data.data.draft_sales||[]).length>0&&(t.carts=r.map((function(e){return t.saleToCart(e)}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to initialize POS:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},saleToCart:function(t){return{id:t.id,customer:t.customer,items:t.items||[],subtotal:parseFloat(t.subtotal)||0,discount_type:t.discount_type,discount_amount:parseFloat(t.discount_amount)||0,discount_value:parseFloat(t.discount_value)||0,tax_rate:parseFloat(t.tax_rate)||0,tax_amount:parseFloat(t.tax_amount)||0,total_amount:parseFloat(t.total_amount)||0}},searchProducts:function(){var t=this;return c(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(t.searchTimeout),t.searchQuery&&!(t.searchQuery.length<1)){e.next=4;break}return t.products=[],e.abrupt("return");case 4:t.searchTimeout=setTimeout(c(s().mark((function e(){var a,r,o,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading=!0,e.prev=1,!(t.searchQuery.length>=4)){e.next=11;break}return e.next=5,n().get("/dashboard/api/pos/products/barcode/".concat(t.searchQuery));case 5:if(!(a=e.sent).data.success){e.next=11;break}return r=a.data.data,t.addToCart(r.product,r.variation),t.clearSearch(),e.abrupt("return");case 11:return e.next=13,n().get("/dashboard/api/pos/products/search",{params:{q:t.searchQuery}});case 13:o=e.sent,t.products=o.data.data||[],e.next=30;break;case 17:return e.prev=17,e.t0=e.catch(1),404!==(null===(i=e.t0.response)||void 0===i?void 0:i.status)&&console.error("Search error:",e.t0),e.prev=20,e.next=23,n().get("/dashboard/api/pos/products/search",{params:{q:t.searchQuery}});case 23:c=e.sent,t.products=c.data.data||[],e.next=30;break;case 27:e.prev=27,e.t1=e.catch(20),console.error("Search error:",e.t1);case 30:return e.prev=30,t.loading=!1,e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[1,17,30,33],[20,27]])}))),300);case 5:case"end":return e.stop()}}),e)})))()},handleSearchEnter:function(){1===this.products.length&&this.selectProduct(this.products[0])},clearSearch:function(){var t;this.searchQuery="",this.products=[],null===(t=this.$refs.searchInput)||void 0===t||t.focus()},selectProduct:function(t){t.variations&&t.variations.length>0?(this.selectedProduct=t,this.showVariationModal=!0):this.addToCart(t,null)},addVariationToCart:function(t){var e;t.quantity<=0?null===(e=this.$toast)||void 0===e||e.warning("Out of stock"):(this.addToCart(this.selectedProduct,t),this.showVariationModal=!1,this.selectedProduct=null)},addToCart:function(t,e){var a=this;return c(s().mark((function r(){var n,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n={product_id:t.id,product_variation_id:(null==e?void 0:e.id)||null,product_name:t.name,variation_name:(null==e?void 0:e.var_name)||null,unit_price:(null==e?void 0:e.price)||t.sell_price,quantity:1},(o=a.currentCart.items.findIndex((function(t){return t.product_id===n.product_id&&t.product_variation_id===n.product_variation_id})))>=0?(a.currentCart.items[o].quantity++,a.updateItemTotal(o)):(n.line_total=n.unit_price*n.quantity,a.currentCart.items.push(n)),a.recalculateCart(),a.clearSearch(),!a.currentCart.id){r.next=8;break}return r.next=8,a.syncCartToBackend();case 8:case"end":return r.stop()}}),r)})))()},increaseQty:function(t){this.currentCart.items[t].quantity++,this.updateItemTotal(t),this.recalculateCart()},decreaseQty:function(t){this.currentCart.items[t].quantity>1&&(this.currentCart.items[t].quantity--,this.updateItemTotal(t),this.recalculateCart())},updateQty:function(t,e){var a=parseInt(e)||1;this.currentCart.items[t].quantity=Math.max(1,a),this.updateItemTotal(t),this.recalculateCart()},updateItemTotal:function(t){var e=this.currentCart.items[t],a=e.unit_price*e.quantity,r=0;"percentage"===e.discount_type?r=a*e.discount_amount/100:"fixed"===e.discount_type&&(r=e.discount_amount||0),e.discount_value=r,e.line_total=a-r},removeItem:function(t){this.currentCart.items.splice(t,1),this.selectedItemIndex=-1,this.recalculateCart()},selectItem:function(t){this.selectedItemIndex=this.selectedItemIndex===t?-1:t},recalculateCart:function(){var t=this.currentCart;t.subtotal=t.items.reduce((function(t,e){return t+e.line_total}),0),"percentage"===t.discount_type?t.discount_value=t.subtotal*t.discount_amount/100:"fixed"===t.discount_type?t.discount_value=t.discount_amount||0:t.discount_value=0;var e=t.subtotal-t.discount_value;t.tax_rate=this.settings.tax_rate||0,t.tax_amount=e*t.tax_rate/100,t.total_amount=e+t.tax_amount},newCart:function(){this.carts.push(this.createEmptyCart()),this.currentCartIndex=this.carts.length-1},switchCart:function(t){this.currentCartIndex=t,this.selectedItemIndex=-1},closeCart:function(t){this.carts.length<=1||(this.carts.splice(t,1),this.currentCartIndex>=this.carts.length&&(this.currentCartIndex=this.carts.length-1))},searchCustomers:function(){var t=this;return c(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.customerSearch&&!(t.customerSearch.length<2)){e.next=3;break}return t.customers=[],e.abrupt("return");case 3:return e.prev=3,e.next=6,n().get("/dashboard/api/pos/customers",{params:{q:t.customerSearch}});case 6:a=e.sent,t.customers=a.data.data||[],e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Customer search error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))()},selectCustomer:function(t){this.currentCart.customer=t,this.showCustomerModal=!1,this.customerSearch="",this.customers=[]},createCustomer:function(){var t=this;return c(s().mark((function e(){var a,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newCustomer.customer_name&&t.newCustomer.phone1){e.next=3;break}return null===(a=t.$toast)||void 0===a||a.error("Name and phone are required"),e.abrupt("return");case 3:return e.prev=3,e.next=6,n().post("/dashboard/api/pos/customers",t.newCustomer);case 6:r=e.sent,t.selectCustomer(r.data.data),t.newCustomer={customer_name:"",phone1:""},e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),null===(o=t.$toast)||void 0===o||o.error("Failed to create customer");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},clearCustomer:function(){this.currentCart.customer=null},openItemDiscount:function(t){this.discountTarget="item",this.discountItemIndex=t;var e=this.currentCart.items[t];this.discountForm.type=e.discount_type||"percentage",this.discountForm.amount=e.discount_amount||0,this.showDiscountModal=!0},openSaleDiscount:function(){this.discountTarget="sale",this.discountForm.type=this.currentCart.discount_type||"percentage",this.discountForm.amount=this.currentCart.discount_amount||0,this.showDiscountModal=!0},applyDiscount:function(){if("item"===this.discountTarget){var t=this.currentCart.items[this.discountItemIndex];t.discount_type=this.discountForm.type,t.discount_amount=parseFloat(this.discountForm.amount)||0,this.updateItemTotal(this.discountItemIndex)}else this.currentCart.discount_type=this.discountForm.type,this.currentCart.discount_amount=parseFloat(this.discountForm.amount)||0;this.recalculateCart(),this.showDiscountModal=!1},clearDiscount:function(){if("item"===this.discountTarget){var t=this.currentCart.items[this.discountItemIndex];t.discount_type=null,t.discount_amount=0,this.updateItemTotal(this.discountItemIndex)}else this.currentCart.discount_type=null,this.currentCart.discount_amount=0;this.recalculateCart(),this.showDiscountModal=!1},openPayment:function(){var t=this;this.payments=[],this.selectedPaymentMethod="cash",this.paymentAmount=this.currentCart.total_amount,this.paymentReference="",this.showPaymentModal=!0,this.$nextTick((function(){var e;null===(e=t.$refs.paymentInput)||void 0===e||e.focus()}))},getMethodLabel:function(t){return{cash:"Cash",card:"Card",wallet:"Wallet",bank_transfer:"Bank Transfer"}[t]||t},addPayment:function(){!this.paymentAmount||this.paymentAmount<=0||(this.payments.push({payment_method:this.selectedPaymentMethod,amount:this.paymentAmount,tendered_amount:"cash"===this.selectedPaymentMethod?this.paymentAmount:null,reference_number:this.paymentReference||null}),this.paymentAmount=Math.max(0,this.remainingAmount),this.paymentReference="")},removePayment:function(t){this.payments.splice(t,1)},completeSale:function(){var t=this;return c(s().mark((function e(){var a,r,o,i,c,d,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.canCompleteSale){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,a=t.currentCart.id){e.next=9;break}return e.next=7,n().post("/dashboard/api/pos/sales",{customer_id:null===(r=t.currentCart.customer)||void 0===r?void 0:r.id,items:t.currentCart.items});case 7:o=e.sent,a=o.data.data.id;case 9:if(!t.currentCart.discount_type){e.next=12;break}return e.next=12,n().put("/dashboard/api/pos/sales/".concat(a),{discount_type:t.currentCart.discount_type,discount_amount:t.currentCart.discount_amount});case 12:return e.next=14,n().post("/dashboard/api/pos/sales/".concat(a,"/complete"),{payments:t.payments});case 14:i=e.sent,t.completedSale=i.data.data,t.showPaymentModal=!1,t.showReceiptModal=!0,t.settings.print_receipt_auto&&t.printReceipt(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(2),console.error("Failed to complete sale:",e.t0),null===(c=t.$toast)||void 0===c||c.error((null===(d=e.t0.response)||void 0===d||null===(l=d.data)||void 0===l?void 0:l.message)||"Failed to complete sale");case 25:case"end":return e.stop()}}),e,null,[[2,21]])})))()},parkSale:function(){var t=this;return c(s().mark((function e(){var a,r,o,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.currentCart.items.length){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,r=t.currentCart.id){e.next=9;break}return e.next=7,n().post("/dashboard/api/pos/sales",{customer_id:null===(o=t.currentCart.customer)||void 0===o?void 0:o.id,items:t.currentCart.items});case 7:i=e.sent,r=i.data.data.id;case 9:return e.next=11,n().post("/dashboard/api/pos/sales/".concat(r,"/park"),{park_name:"Cart ".concat(t.currentCartIndex+1)});case 11:return e.next=13,t.loadParkedSales();case 13:t.carts[t.currentCartIndex]=t.createEmptyCart(),null===(a=t.$toast)||void 0===a||a.success("Sale parked"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.error("Failed to park sale:",e.t0),null===(c=t.$toast)||void 0===c||c.error("Failed to park sale");case 21:case"end":return e.stop()}}),e,null,[[2,17]])})))()},loadParkedSales:function(){var t=this;return c(s().mark((function e(){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n().get("/dashboard/api/pos/sales/parked");case 3:a=e.sent,t.parkedSales=a.data.data||[],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to load parked sales:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},showParkedSales:function(){this.loadParkedSales(),this.showParkedModal=!0},resumeSale:function(t){var e=this;return c(s().mark((function a(){var r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n().post("/dashboard/api/pos/sales/".concat(t.id,"/unpark"));case 3:return e.carts[e.currentCartIndex]=e.saleToCart(t),a.next=6,e.loadParkedSales();case 6:e.showParkedModal=!1,a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.error("Failed to resume sale:",a.t0),null===(r=e.$toast)||void 0===r||r.error("Failed to resume sale");case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},deleteParkedSale:function(t){var e=this;return c(s().mark((function a(){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(confirm("Delete this parked sale?")){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,n().delete("/dashboard/api/pos/sales/".concat(t));case 5:return a.next=7,e.loadParkedSales();case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.error("Failed to delete parked sale:",a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},printReceipt:function(){var t=this;return c(s().mark((function e(){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.completedSale){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,n().get("/dashboard/api/pos/print/".concat(t.completedSale.id,"/html"),{responseType:"text"});case 5:a=e.sent,(r=window.open("","_blank")).document.write(a.data),r.document.close(),r.print(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Failed to print receipt:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))()},closeReceipt:function(){var t;this.showReceiptModal=!1,this.completedSale=null,this.carts[this.currentCartIndex]=this.createEmptyCart(),this.payments=[],null===(t=this.$refs.searchInput)||void 0===t||t.focus()},syncCartToBackend:function(){return c(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},handleKeydown:function(t){var e;if(["INPUT","TEXTAREA"].includes(t.target.tagName))"Escape"===t.key&&t.target.blur();else switch(t.key){case"F1":t.preventDefault(),null===(e=this.$refs.searchInput)||void 0===e||e.focus();break;case"F2":t.preventDefault(),this.newCart();break;case"F3":t.preventDefault(),this.switchCart((this.currentCartIndex+1)%this.carts.length);break;case"F4":t.preventDefault(),this.parkSale();break;case"F5":t.preventDefault(),this.showParkedSales();break;case"F8":t.preventDefault(),this.openSaleDiscount();break;case"F9":t.preventDefault(),this.showCustomerModal=!0;break;case"F10":t.preventDefault(),this.currentCart.items.length>0&&this.openPayment();break;case"F12":t.preventDefault(),this.showPaymentModal&&this.canCompleteSale?this.completeSale():this.currentCart.items.length>0&&(this.payments=[{payment_method:"cash",amount:this.currentCart.total_amount,tendered_amount:this.currentCart.total_amount}],this.completeSale());break;case"Delete":t.preventDefault(),this.selectedItemIndex>=0&&this.removeItem(this.selectedItemIndex);break;case"Escape":this.showVariationModal=!1,this.showCustomerModal=!1,this.showDiscountModal=!1,this.showPaymentModal=!1,this.showParkedModal=!1}}},mounted:function(){var t,e=this;this.initialize(),window.addEventListener("online",(function(){e.isOnline=!0})),window.addEventListener("offline",(function(){e.isOnline=!1})),null===(t=this.$refs.searchInput)||void 0===t||t.focus()},beforeDestroy:function(){window.removeEventListener("online",(function(){})),window.removeEventListener("offline",(function(){}))}};var p=a(3379),m=a.n(p),v=a(7545),f={insert:"head",singleton:!1};m()(v.Z,f);v.Z.locals;const h=(0,a(1900).Z)(u,(function(){var t,e,a,r,n=this,o=n._self._c;return o("div",{staticClass:"pos-container",on:{keydown:n.handleKeydown}},[n.isOnline?n._e():o("div",{staticClass:"offline-banner"},[o("i",{staticClass:"fas fa-wifi-slash"}),n._v(" Offline Mode - Sales will sync when online\n    ")]),n._v(" "),o("div",{staticClass:"pos-topbar"},[n._m(0),n._v(" "),o("div",{staticClass:"pos-topbar-center"},[o("div",{staticClass:"cart-tabs"},[n._l(n.carts,(function(t,e){return o("div",{key:t.id||e,staticClass:"cart-tab",class:{active:n.currentCartIndex===e},on:{click:function(t){return n.switchCart(e)}}},[o("span",[n._v("Cart "+n._s(e+1))]),n._v(" "),t.items.length?o("span",{staticClass:"item-count"},[n._v(n._s(t.items.length))]):n._e(),n._v(" "),n.carts.length>1?o("button",{staticClass:"close-cart",on:{click:function(t){return t.stopPropagation(),n.closeCart(e)}}},[o("i",{staticClass:"fas fa-times"})]):n._e()])})),n._v(" "),o("button",{staticClass:"new-cart-btn",attrs:{title:"New Cart (F2)"},on:{click:n.newCart}},[o("i",{staticClass:"fas fa-plus"})])],2)]),n._v(" "),o("div",{staticClass:"pos-topbar-right"},[o("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{title:"Parked Sales (F5)"},on:{click:n.showParkedSales}},[o("i",{staticClass:"fas fa-pause-circle"}),n._v(" "),n.parkedSalesCount>0?o("span",{staticClass:"badge"},[n._v(n._s(n.parkedSalesCount))]):n._e()]),n._v(" "),o("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:"/dashboard/pos/history"}},[o("i",{staticClass:"fas fa-history"})]),n._v(" "),o("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:"/dashboard/pos/settings"}},[o("i",{staticClass:"fas fa-cog"})])],1)]),n._v(" "),o("div",{staticClass:"pos-main"},[o("div",{staticClass:"pos-products"},[o("div",{staticClass:"search-section"},[o("div",{staticClass:"search-input-wrapper"},[o("i",{staticClass:"fas fa-search"}),n._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:n.searchQuery,expression:"searchQuery"}],ref:"searchInput",staticClass:"search-input",attrs:{type:"text",placeholder:"Search products or scan barcode (F1)"},domProps:{value:n.searchQuery},on:{input:[function(t){t.target.composing||(n.searchQuery=t.target.value)},n.searchProducts],keydown:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.handleSearchEnter.apply(null,arguments)}}}),n._v(" "),n.searchQuery?o("button",{staticClass:"clear-search",on:{click:n.clearSearch}},[o("i",{staticClass:"fas fa-times"})]):n._e()])]),n._v(" "),o("div",{staticClass:"product-grid"},[n.loading?o("div",{staticClass:"loading-state"},[o("i",{staticClass:"fas fa-spinner fa-spin"}),n._v(" Loading...\n                ")]):0===n.products.length&&n.searchQuery?o("div",{staticClass:"empty-state"},[o("i",{staticClass:"fas fa-search"}),n._v(" "),o("p",[n._v("No products found")])]):0===n.products.length?o("div",{staticClass:"empty-state"},[o("i",{staticClass:"fas fa-box-open"}),n._v(" "),o("p",[n._v("Search for products or scan barcode")])]):n._l(n.products,(function(t){return o("div",{key:t.id,staticClass:"product-card",on:{click:function(e){return n.selectProduct(t)}}},[o("div",{staticClass:"product-image"},[t.thumbnail?o("img",{attrs:{src:"/storage/"+t.thumbnail,alt:t.name}}):o("i",{staticClass:"fas fa-box"})]),n._v(" "),o("div",{staticClass:"product-info"},[o("div",{staticClass:"product-name"},[n._v(n._s(t.name))]),n._v(" "),o("div",{staticClass:"product-price"},[n._v(n._s(n.formatCurrency(t.sell_price)))]),n._v(" "),o("div",{staticClass:"product-stock",class:{"low-stock":t.total_stock<=t.low_stock_threshold}},[n._v("\n                            Stock: "+n._s(t.total_stock)+"\n                        ")])])])}))],2)]),n._v(" "),o("div",{staticClass:"pos-cart"},[o("div",{staticClass:"customer-section"},[n.currentCart.customer?o("div",{staticClass:"selected-customer"},[o("i",{staticClass:"fas fa-user"}),n._v(" "),o("span",[n._v(n._s(n.currentCart.customer.customer_name))]),n._v(" "),o("button",{staticClass:"btn-clear",on:{click:n.clearCustomer}},[o("i",{staticClass:"fas fa-times"})])]):o("button",{staticClass:"select-customer-btn",on:{click:function(t){n.showCustomerModal=!0}}},[o("i",{staticClass:"fas fa-user-plus"}),n._v(" Select Customer (F9)\n                ")])]),n._v(" "),o("div",{staticClass:"cart-items"},[0===n.currentCart.items.length?o("div",{staticClass:"empty-cart"},[o("i",{staticClass:"fas fa-shopping-cart"}),n._v(" "),o("p",[n._v("Cart is empty")]),n._v(" "),o("small",[n._v("Search for products to add")])]):n._l(n.currentCart.items,(function(t,e){return o("div",{key:t.id||e,staticClass:"cart-item",class:{selected:n.selectedItemIndex===e},on:{click:function(t){return n.selectItem(e)}}},[o("div",{staticClass:"item-info"},[o("div",{staticClass:"item-name"},[n._v("\n                            "+n._s(t.product_name)+"\n                            "),t.variation_name?o("span",{staticClass:"variation"},[n._v("("+n._s(t.variation_name)+")")]):n._e()]),n._v(" "),o("div",{staticClass:"item-price"},[n._v(n._s(n.formatCurrency(t.unit_price)))])]),n._v(" "),o("div",{staticClass:"item-controls"},[o("button",{staticClass:"qty-btn",on:{click:function(t){return t.stopPropagation(),n.decreaseQty(e)}}},[n._v("-")]),n._v(" "),o("input",{staticClass:"qty-input",attrs:{type:"number",min:"1"},domProps:{value:t.quantity},on:{change:function(t){return n.updateQty(e,t.target.value)},click:function(t){t.stopPropagation()}}}),n._v(" "),o("button",{staticClass:"qty-btn",on:{click:function(t){return t.stopPropagation(),n.increaseQty(e)}}},[n._v("+")])]),n._v(" "),o("div",{staticClass:"item-total"},[n._v(n._s(n.formatCurrency(t.line_total)))]),n._v(" "),o("div",{staticClass:"item-actions"},[o("button",{staticClass:"btn-discount",attrs:{title:"Discount"},on:{click:function(t){return t.stopPropagation(),n.openItemDiscount(e)}}},[o("i",{staticClass:"fas fa-percent"})]),n._v(" "),o("button",{staticClass:"btn-remove",attrs:{title:"Remove"},on:{click:function(t){return t.stopPropagation(),n.removeItem(e)}}},[o("i",{staticClass:"fas fa-trash"})])])])}))],2),n._v(" "),o("div",{staticClass:"cart-summary"},[o("div",{staticClass:"summary-row"},[o("span",[n._v("Subtotal")]),n._v(" "),o("span",[n._v(n._s(n.formatCurrency(n.currentCart.subtotal)))])]),n._v(" "),n.currentCart.discount_value>0?o("div",{staticClass:"summary-row discount"},[o("span",[n._v("\n                        Discount\n                        "),o("button",{staticClass:"btn-edit-discount",on:{click:n.openSaleDiscount}},[o("i",{staticClass:"fas fa-edit"})])]),n._v(" "),o("span",[n._v("-"+n._s(n.formatCurrency(n.currentCart.discount_value)))])]):o("div",{staticClass:"summary-row"},[o("button",{staticClass:"add-discount-btn",on:{click:n.openSaleDiscount}},[o("i",{staticClass:"fas fa-percent"}),n._v(" Add Discount (F8)\n                    ")])]),n._v(" "),n.settings.tax_rate>0?o("div",{staticClass:"summary-row tax"},[o("span",[n._v("Tax ("+n._s(n.settings.tax_rate)+"%)")]),n._v(" "),o("span",[n._v(n._s(n.formatCurrency(n.currentCart.tax_amount)))])]):n._e(),n._v(" "),o("div",{staticClass:"summary-row total"},[o("span",[n._v("Total")]),n._v(" "),o("span",[n._v(n._s(n.formatCurrency(n.currentCart.total_amount)))])])]),n._v(" "),o("div",{staticClass:"cart-actions"},[o("button",{staticClass:"btn btn-secondary btn-park",attrs:{disabled:0===n.currentCart.items.length},on:{click:n.parkSale}},[o("i",{staticClass:"fas fa-pause"}),n._v(" Park (F4)\n                ")]),n._v(" "),o("button",{staticClass:"btn btn-primary btn-pay",attrs:{disabled:0===n.currentCart.items.length},on:{click:n.openPayment}},[o("i",{staticClass:"fas fa-money-bill"}),n._v(" Pay (F10)\n                ")])])])]),n._v(" "),n.showVariationModal?o("div",{staticClass:"modal-overlay",on:{click:function(t){if(t.target!==t.currentTarget)return null;n.showVariationModal=!1}}},[o("div",{staticClass:"modal-content variation-modal"},[o("div",{staticClass:"modal-header"},[o("h5",[n._v("Select Variation")]),n._v(" "),o("button",{staticClass:"close-btn",on:{click:function(t){n.showVariationModal=!1}}},[o("i",{staticClass:"fas fa-times"})])]),n._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"variations-grid"},n._l(n.selectedProduct.variations,(function(t){return o("div",{key:t.id,staticClass:"variation-card",class:{"out-of-stock":t.quantity<=0},on:{click:function(e){return n.addVariationToCart(t)}}},[o("div",{staticClass:"variation-name"},[n._v(n._s(t.var_name))]),n._v(" "),o("div",{staticClass:"variation-price"},[n._v(n._s(n.formatCurrency(t.price)))]),n._v(" "),o("div",{staticClass:"variation-stock"},[n._v("Stock: "+n._s(t.quantity))])])})),0)])])]):n._e(),n._v(" "),n.showCustomerModal?o("div",{staticClass:"modal-overlay",on:{click:function(t){if(t.target!==t.currentTarget)return null;n.showCustomerModal=!1}}},[o("div",{staticClass:"modal-content customer-modal"},[o("div",{staticClass:"modal-header"},[o("h5",[n._v("Select or Create Customer")]),n._v(" "),o("button",{staticClass:"close-btn",on:{click:function(t){n.showCustomerModal=!1}}},[o("i",{staticClass:"fas fa-times"})])]),n._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"customer-search"},[o("input",{directives:[{name:"model",rawName:"v-model",value:n.customerSearch,expression:"customerSearch"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search by name or phone..."},domProps:{value:n.customerSearch},on:{input:[function(t){t.target.composing||(n.customerSearch=t.target.value)},n.searchCustomers]}})]),n._v(" "),o("div",{staticClass:"customer-list"},n._l(n.customers,(function(t){return o("div",{key:t.id,staticClass:"customer-item",on:{click:function(e){return n.selectCustomer(t)}}},[o("div",{staticClass:"customer-name"},[n._v(n._s(t.customer_name))]),n._v(" "),o("div",{staticClass:"customer-phone"},[n._v(n._s(t.phone1))])])})),0),n._v(" "),!n.customers.length&&n.customerSearch?o("div",{staticClass:"create-customer-form"},[o("p",{staticClass:"text-muted"},[n._v("No customer found. Create new?")]),n._v(" "),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:n.newCustomer.customer_name,expression:"newCustomer.customer_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Customer Name"},domProps:{value:n.newCustomer.customer_name},on:{input:function(t){t.target.composing||n.$set(n.newCustomer,"customer_name",t.target.value)}}})]),n._v(" "),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:n.newCustomer.phone1,expression:"newCustomer.phone1"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone Number"},domProps:{value:n.newCustomer.phone1},on:{input:function(t){t.target.composing||n.$set(n.newCustomer,"phone1",t.target.value)}}})]),n._v(" "),o("button",{staticClass:"btn btn-primary",on:{click:n.createCustomer}},[o("i",{staticClass:"fas fa-plus"}),n._v(" Create Customer\n                    ")])]):n._e()])])]):n._e(),n._v(" "),n.showDiscountModal?o("div",{staticClass:"modal-overlay",on:{click:function(t){if(t.target!==t.currentTarget)return null;n.showDiscountModal=!1}}},[o("div",{staticClass:"modal-content discount-modal"},[o("div",{staticClass:"modal-header"},[o("h5",[n._v(n._s("sale"===n.discountTarget?"Sale Discount":"Item Discount"))]),n._v(" "),o("button",{staticClass:"close-btn",on:{click:function(t){n.showDiscountModal=!1}}},[o("i",{staticClass:"fas fa-times"})])]),n._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"discount-type-toggle"},[o("button",{class:{active:"percentage"===n.discountForm.type},on:{click:function(t){n.discountForm.type="percentage"}}},[o("i",{staticClass:"fas fa-percent"}),n._v(" Percentage\n                    ")]),n._v(" "),o("button",{class:{active:"fixed"===n.discountForm.type},on:{click:function(t){n.discountForm.type="fixed"}}},[o("i",{staticClass:"fas fa-dollar-sign"}),n._v(" Fixed\n                    ")])]),n._v(" "),o("div",{staticClass:"discount-input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:n.discountForm.amount,expression:"discountForm.amount"}],staticClass:"form-control",attrs:{type:"number",placeholder:"percentage"===n.discountForm.type?"Enter %":"Enter amount",min:"0"},domProps:{value:n.discountForm.amount},on:{input:function(t){t.target.composing||n.$set(n.discountForm,"amount",t.target.value)}}})]),n._v(" "),o("div",{staticClass:"discount-actions"},[o("button",{staticClass:"btn btn-secondary",on:{click:n.clearDiscount}},[n._v("Clear")]),n._v(" "),o("button",{staticClass:"btn btn-primary",on:{click:n.applyDiscount}},[n._v("Apply")])])])])]):n._e(),n._v(" "),n.showPaymentModal?o("div",{staticClass:"modal-overlay",on:{click:function(t){if(t.target!==t.currentTarget)return null;n.showPaymentModal=!1}}},[o("div",{staticClass:"modal-content payment-modal"},[o("div",{staticClass:"modal-header"},[o("h5",[n._v("Payment")]),n._v(" "),o("button",{staticClass:"close-btn",on:{click:function(t){n.showPaymentModal=!1}}},[o("i",{staticClass:"fas fa-times"})])]),n._v(" "),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"payment-summary"},[o("div",{staticClass:"total-due"},[o("span",[n._v("Total Due")]),n._v(" "),o("span",{staticClass:"amount"},[n._v(n._s(n.formatCurrency(n.currentCart.total_amount)))])]),n._v(" "),n.payments.length>0?o("div",{staticClass:"paid-so-far"},[o("span",[n._v("Paid")]),n._v(" "),o("span",[n._v(n._s(n.formatCurrency(n.totalPaid)))])]):n._e(),n._v(" "),n.remainingAmount>0?o("div",{staticClass:"remaining"},[o("span",[n._v("Remaining")]),n._v(" "),o("span",{staticClass:"amount"},[n._v(n._s(n.formatCurrency(n.remainingAmount)))])]):n._e(),n._v(" "),n.changeAmount>0?o("div",{staticClass:"change"},[o("span",[n._v("Change")]),n._v(" "),o("span",{staticClass:"amount text-success"},[n._v(n._s(n.formatCurrency(n.changeAmount)))])]):n._e()]),n._v(" "),o("div",{staticClass:"payment-methods"},n._l(n.availablePaymentMethods,(function(t){return o("button",{key:t.value,staticClass:"payment-method-btn",class:{active:n.selectedPaymentMethod===t.value},on:{click:function(e){n.selectedPaymentMethod=t.value}}},[o("i",{class:t.icon}),n._v(" "),o("span",[n._v(n._s(t.label))])])})),0),n._v(" "),o("div",{staticClass:"payment-input"},[o("label",[n._v("Amount")]),n._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.number",value:n.paymentAmount,expression:"paymentAmount",modifiers:{number:!0}}],ref:"paymentInput",staticClass:"form-control amount-input",attrs:{type:"number",placeholder:n.remainingAmount},domProps:{value:n.paymentAmount},on:{input:function(t){t.target.composing||(n.paymentAmount=n._n(t.target.value))},blur:function(t){return n.$forceUpdate()}}})]),n._v(" "),"cash"===n.selectedPaymentMethod?o("div",{staticClass:"quick-amounts"},n._l(n.quickAmounts,(function(t){return o("button",{key:t,staticClass:"quick-amount-btn",on:{click:function(e){n.paymentAmount=t}}},[n._v("\n                        "+n._s(n.formatCurrency(t))+"\n                    ")])})),0):n._e(),n._v(" "),"cash"!==n.selectedPaymentMethod?o("div",{staticClass:"reference-input"},[o("label",[n._v("Reference Number (optional)")]),n._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:n.paymentReference,expression:"paymentReference"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Card auth code, transfer ref..."},domProps:{value:n.paymentReference},on:{input:function(t){t.target.composing||(n.paymentReference=t.target.value)}}})]):n._e(),n._v(" "),n.payments.length>0?o("div",{staticClass:"payments-list"},[o("h6",[n._v("Payments")]),n._v(" "),n._l(n.payments,(function(t,e){return o("div",{key:e,staticClass:"payment-item"},[o("span",[n._v(n._s(n.getMethodLabel(t.payment_method)))]),n._v(" "),o("span",[n._v(n._s(n.formatCurrency(t.amount)))]),n._v(" "),o("button",{staticClass:"btn-remove-payment",on:{click:function(t){return n.removePayment(e)}}},[o("i",{staticClass:"fas fa-times"})])])}))],2):n._e(),n._v(" "),o("div",{staticClass:"payment-actions"},[n.isFullyPaid?n._e():o("button",{staticClass:"btn btn-secondary",attrs:{disabled:!n.paymentAmount||n.paymentAmount<=0},on:{click:n.addPayment}},[o("i",{staticClass:"fas fa-plus"}),n._v(" Add Payment\n                    ")]),n._v(" "),o("button",{staticClass:"btn btn-primary btn-complete",attrs:{disabled:!n.canCompleteSale},on:{click:n.completeSale}},[o("i",{staticClass:"fas fa-check"}),n._v("\n                        "+n._s(n.isFullyPaid?"Complete Sale (F12)":"Complete with Split Payment")+"\n                    ")])])])])]):n._e(),n._v(" "),n.showParkedModal?o("div",{staticClass:"modal-overlay",on:{click:function(t){if(t.target!==t.currentTarget)return null;n.showParkedModal=!1}}},[o("div",{staticClass:"modal-content parked-modal"},[o("div",{staticClass:"modal-header"},[o("h5",[n._v("Parked Sales")]),n._v(" "),o("button",{staticClass:"close-btn",on:{click:function(t){n.showParkedModal=!1}}},[o("i",{staticClass:"fas fa-times"})])]),n._v(" "),o("div",{staticClass:"modal-body"},[0===n.parkedSales.length?o("div",{staticClass:"empty-state"},[o("i",{staticClass:"fas fa-pause-circle"}),n._v(" "),o("p",[n._v("No parked sales")])]):o("div",{staticClass:"parked-sales-list"},n._l(n.parkedSales,(function(t){return o("div",{key:t.id,staticClass:"parked-sale-item",on:{click:function(e){return n.resumeSale(t)}}},[o("div",{staticClass:"sale-info"},[o("div",{staticClass:"sale-number"},[n._v(n._s(t.sale_number))]),n._v(" "),t.park_name?o("div",{staticClass:"sale-name"},[n._v(n._s(t.park_name))]):n._e(),n._v(" "),t.customer?o("div",{staticClass:"sale-customer"},[o("i",{staticClass:"fas fa-user"}),n._v(" "+n._s(t.customer.customer_name)+"\n                            ")]):n._e()]),n._v(" "),o("div",{staticClass:"sale-details"},[o("div",{staticClass:"items-count"},[n._v(n._s(t.items.length)+" items")]),n._v(" "),o("div",{staticClass:"sale-total"},[n._v(n._s(n.formatCurrency(t.total_amount)))])]),n._v(" "),o("button",{staticClass:"btn-delete-parked",on:{click:function(e){return e.stopPropagation(),n.deleteParkedSale(t.id)}}},[o("i",{staticClass:"fas fa-trash"})])])})),0)])])]):n._e(),n._v(" "),n.showReceiptModal?o("div",{staticClass:"modal-overlay",on:{click:function(t){return t.target!==t.currentTarget?null:n.closeReceipt.apply(null,arguments)}}},[o("div",{staticClass:"modal-content receipt-modal"},[o("div",{staticClass:"modal-header"},[o("h5",[n._v("Sale Complete")]),n._v(" "),o("button",{staticClass:"close-btn",on:{click:n.closeReceipt}},[o("i",{staticClass:"fas fa-times"})])]),n._v(" "),o("div",{staticClass:"modal-body"},[n._m(1),n._v(" "),o("div",{staticClass:"receipt-info"},[o("p",[n._v("Sale #"+n._s(null===(t=n.completedSale)||void 0===t?void 0:t.sale_number))]),n._v(" "),o("p",{staticClass:"total"},[n._v(n._s(n.formatCurrency(null===(e=n.completedSale)||void 0===e?void 0:e.total_amount)))]),n._v(" "),(null===(a=n.completedSale)||void 0===a?void 0:a.change_amount)>0?o("p",{staticClass:"change"},[n._v("\n                        Change: "+n._s(n.formatCurrency(null===(r=n.completedSale)||void 0===r?void 0:r.change_amount))+"\n                    ")]):n._e()]),n._v(" "),o("div",{staticClass:"receipt-actions"},[o("button",{staticClass:"btn btn-secondary",on:{click:n.printReceipt}},[o("i",{staticClass:"fas fa-print"}),n._v(" Print Receipt\n                    ")]),n._v(" "),o("button",{staticClass:"btn btn-primary",on:{click:n.closeReceipt}},[o("i",{staticClass:"fas fa-plus"}),n._v(" New Sale\n                    ")])])])])]):n._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"pos-topbar-left"},[t("h4",[t("i",{staticClass:"fas fa-cash-register"}),this._v(" Point of Sale")])])},function(){var t=this._self._c;return t("div",{staticClass:"success-icon"},[t("i",{staticClass:"fas fa-check-circle"})])}],!1,null,"4c383c5d",null).exports}}]);