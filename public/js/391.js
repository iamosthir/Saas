/*! For license information please see 391.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[391],{5001:(t,a,e)=>{e.d(a,{Z:()=>i});var r=e(1519),n=e.n(r)()((function(t){return t[1]}));n.push([t.id,".pos-history-page[data-v-24f0f76a]{max-width:100%;overflow-x:hidden;padding:20px}.page-header[data-v-24f0f76a]{align-items:center;display:flex;justify-content:space-between;margin-bottom:20px;max-width:100%;overflow:hidden}.page-header h2[data-v-24f0f76a]{margin:0;word-break:break-word}.filters-card[data-v-24f0f76a]{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05);margin-bottom:20px;max-width:100%;overflow:hidden;padding:20px}.filters-row[data-v-24f0f76a]{display:flex;flex-wrap:wrap;gap:20px}.filter-group[data-v-24f0f76a]{flex:1;min-width:150px}.filter-group label[data-v-24f0f76a]{display:block;font-size:14px;font-weight:500;margin-bottom:5px}.form-control[data-v-24f0f76a]{border:1px solid #ddd;border-radius:8px;font-size:14px;padding:10px 12px;width:100%}.summary-cards[data-v-24f0f76a]{display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-bottom:20px;max-width:100%}.summary-card[data-v-24f0f76a]{background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.05);gap:15px;padding:20px}.summary-card[data-v-24f0f76a],.summary-icon[data-v-24f0f76a]{align-items:center;border-radius:12px;display:flex}.summary-icon[data-v-24f0f76a]{background:#e3f2fd;color:#2196f3;font-size:20px;height:50px;justify-content:center;width:50px}.summary-icon.revenue[data-v-24f0f76a]{background:#e8f5e9;color:#4caf50}.summary-icon.items[data-v-24f0f76a]{background:#fff3e0;color:#ff9800}.summary-icon.avg[data-v-24f0f76a]{background:#f3e5f5;color:#9c27b0}.summary-value[data-v-24f0f76a]{font-size:24px;font-weight:700}.summary-label[data-v-24f0f76a]{color:#666;font-size:14px}.sales-table-card[data-v-24f0f76a]{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05);max-width:100%;overflow:hidden}.empty-state[data-v-24f0f76a],.loading-state[data-v-24f0f76a]{color:#888;padding:60px;text-align:center}.empty-state i[data-v-24f0f76a]{font-size:48px;margin-bottom:10px;opacity:.5}.sales-table[data-v-24f0f76a]{border-collapse:collapse;width:100%}.sales-table td[data-v-24f0f76a],.sales-table th[data-v-24f0f76a]{border-bottom:1px solid #e0e0e0;padding:15px;text-align:left}.sales-table th[data-v-24f0f76a]{background:#f5f5f5;font-size:14px;font-weight:600}.sales-table tbody tr[data-v-24f0f76a]{cursor:pointer;transition:background .2s}.sales-table tbody tr[data-v-24f0f76a]:hover{background:#f9f9f9}.sale-number[data-v-24f0f76a]{color:#2196f3}.sale-number[data-v-24f0f76a],.sale-total[data-v-24f0f76a]{font-weight:600}.status-badge[data-v-24f0f76a]{border-radius:20px;display:inline-block;font-size:12px;font-weight:500;padding:4px 12px;text-transform:capitalize}.status-badge.completed[data-v-24f0f76a]{background:#e8f5e9;color:#4caf50}.status-badge.voided[data-v-24f0f76a]{background:#ffebee;color:#f44336}.status-badge.parked[data-v-24f0f76a]{background:#fff3e0;color:#ff9800}.status-badge.draft[data-v-24f0f76a]{background:#e0e0e0;color:#666}.actions[data-v-24f0f76a]{display:flex;gap:5px}.btn-action[data-v-24f0f76a]{background:#f0f0f0;border:none;border-radius:6px;cursor:pointer;height:32px;transition:all .2s;width:32px}.btn-action[data-v-24f0f76a]:hover{background:#e0e0e0}.pagination[data-v-24f0f76a]{align-items:center;border-top:1px solid #e0e0e0;display:flex;gap:15px;justify-content:center;padding:20px}.page-btn[data-v-24f0f76a]{background:#fff;border:1px solid #ddd;border-radius:8px;cursor:pointer;height:36px;transition:all .2s;width:36px}.page-btn[data-v-24f0f76a]:hover:not(:disabled){background:#f5f5f5}.page-btn[data-v-24f0f76a]:disabled{cursor:not-allowed;opacity:.5}.page-info[data-v-24f0f76a]{color:#666}.modal-overlay[data-v-24f0f76a]{align-items:center;background:rgba(0,0,0,.5);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.modal-content[data-v-24f0f76a]{background:#fff;border-radius:12px;display:flex;flex-direction:column;max-height:90vh;max-width:600px;overflow:hidden;width:90%}.modal-header[data-v-24f0f76a]{align-items:center;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;padding:15px 20px}.modal-header h5[data-v-24f0f76a]{margin:0}.close-btn[data-v-24f0f76a]{background:none;border:none;color:#888;cursor:pointer;font-size:20px}.modal-body[data-v-24f0f76a]{overflow-y:auto;padding:20px}.modal-footer[data-v-24f0f76a]{border-top:1px solid #e0e0e0;display:flex;gap:10px;justify-content:flex-end;padding:15px 20px}.detail-section[data-v-24f0f76a]{margin-bottom:20px}.detail-row[data-v-24f0f76a]{border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;padding:8px 0}.items-section[data-v-24f0f76a],.payments-section[data-v-24f0f76a]{margin-bottom:20px}.items-section h6[data-v-24f0f76a],.payments-section h6[data-v-24f0f76a]{color:#666;margin-bottom:10px}.items-table[data-v-24f0f76a]{border-collapse:collapse;font-size:14px;width:100%}.items-table td[data-v-24f0f76a],.items-table th[data-v-24f0f76a]{border-bottom:1px solid #e0e0e0;padding:10px;text-align:left}.items-table th[data-v-24f0f76a]{background:#f5f5f5}.variation[data-v-24f0f76a]{color:#888;font-size:12px}.totals-section[data-v-24f0f76a]{background:#f9f9f9;border-radius:8px;margin-bottom:20px;padding:15px}.total-row[data-v-24f0f76a]{display:flex;justify-content:space-between;padding:5px 0}.total-row.grand-total[data-v-24f0f76a]{border-top:1px solid #e0e0e0;font-size:18px;font-weight:700;margin-top:10px;padding-top:10px}.payment-row[data-v-24f0f76a]{background:#f5f5f5;border-radius:6px;display:flex;justify-content:space-between;margin-bottom:5px;padding:8px}.text-success[data-v-24f0f76a]{color:#4caf50}@media (max-width:768px){.pos-history-page[data-v-24f0f76a]{padding:15px}.page-header[data-v-24f0f76a]{align-items:flex-start;flex-direction:column;gap:15px}.page-header h2[data-v-24f0f76a]{font-size:20px}.page-header .btn[data-v-24f0f76a]{justify-content:center;width:100%}.filters-card[data-v-24f0f76a]{padding:15px}.filters-row[data-v-24f0f76a]{flex-direction:column;gap:15px}.filter-group[data-v-24f0f76a]{min-width:100%}.filter-group button[data-v-24f0f76a]{font-size:14px;padding:12px;width:100%}.btn[data-v-24f0f76a]{min-height:44px;padding:12px 20px}.summary-cards[data-v-24f0f76a]{gap:15px;grid-template-columns:repeat(2,1fr)}.summary-card[data-v-24f0f76a]{padding:15px}.summary-icon[data-v-24f0f76a]{font-size:18px;height:45px;width:45px}.summary-value[data-v-24f0f76a]{font-size:20px}.summary-label[data-v-24f0f76a]{font-size:12px}.sales-table-card[data-v-24f0f76a]{-webkit-overflow-scrolling:touch;overflow-x:auto}.sales-table[data-v-24f0f76a]{min-width:700px}.sales-table td[data-v-24f0f76a],.sales-table th[data-v-24f0f76a]{font-size:13px;padding:12px 10px;white-space:nowrap}.modal-content[data-v-24f0f76a]{max-height:95vh;width:95%}.modal-body[data-v-24f0f76a]{padding:15px}.modal-footer[data-v-24f0f76a]{flex-direction:column-reverse;gap:8px}.modal-footer .btn[data-v-24f0f76a]{width:100%}.items-table[data-v-24f0f76a]{font-size:12px}.items-table td[data-v-24f0f76a],.items-table th[data-v-24f0f76a]{padding:8px 5px}.detail-row[data-v-24f0f76a]{font-size:14px}.total-row.grand-total[data-v-24f0f76a]{font-size:16px}}@media (max-width:480px){.pos-history-page[data-v-24f0f76a]{padding:10px}.pos-history-page *[data-v-24f0f76a]{max-width:100%}.page-header h2[data-v-24f0f76a]{font-size:18px}.page-header h2 i[data-v-24f0f76a]{font-size:16px}.filters-card[data-v-24f0f76a]{padding:12px}.form-control[data-v-24f0f76a]{font-size:13px;padding:8px 10px}.summary-cards[data-v-24f0f76a]{gap:12px;grid-template-columns:1fr}.summary-card[data-v-24f0f76a]{gap:12px;padding:12px}.summary-icon[data-v-24f0f76a]{font-size:16px;height:40px;width:40px}.summary-value[data-v-24f0f76a]{font-size:18px}.summary-label[data-v-24f0f76a]{font-size:11px}.sales-table-card[data-v-24f0f76a]{background:transparent;border-radius:0;box-shadow:none;padding:0}.empty-state[data-v-24f0f76a],.loading-state[data-v-24f0f76a]{background:#fff;border-radius:8px;padding:40px 20px}.sales-cards-mobile[data-v-24f0f76a]{display:flex;flex-direction:column;gap:12px}.sale-card-mobile[data-v-24f0f76a]{background:#fff;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.05);cursor:pointer;padding:12px;transition:all .2s}.sale-card-mobile[data-v-24f0f76a]:hover{background:#f9f9f9;box-shadow:0 4px 8px rgba(0,0,0,.1)}.sale-card-header[data-v-24f0f76a]{align-items:center;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;margin-bottom:10px;padding-bottom:10px}.sale-number-mobile[data-v-24f0f76a]{color:#2196f3;font-size:16px;font-weight:700}.sale-card-body[data-v-24f0f76a]{margin-bottom:10px}.sale-card-row[data-v-24f0f76a]{display:flex;font-size:13px;justify-content:space-between;padding:5px 0}.sale-card-row .label[data-v-24f0f76a]{color:#666;font-weight:500}.sale-card-row.total-row-mobile[data-v-24f0f76a]{border-top:1px solid #f0f0f0;margin-top:8px;padding-top:8px}.sale-total-mobile[data-v-24f0f76a]{color:#2196f3;font-size:16px;font-weight:700}.sale-card-actions[data-v-24f0f76a]{border-top:1px solid #f0f0f0;display:flex;gap:8px;padding-top:10px}.btn-action-mobile[data-v-24f0f76a]{align-items:center;background:#fff;border:1px solid #ddd;border-radius:6px;cursor:pointer;display:flex;flex:1;font-size:13px;font-weight:500;gap:6px;justify-content:center;padding:10px;transition:all .2s}.btn-action-mobile[data-v-24f0f76a]:hover{background:#f5f5f5;border-color:#2196f3;color:#2196f3}.pagination[data-v-24f0f76a]{background:transparent;padding:15px 0}.page-btn[data-v-24f0f76a]{font-size:16px;height:44px;width:44px}.page-info[data-v-24f0f76a]{font-size:13px;font-weight:500}.modal-content[data-v-24f0f76a]{border-radius:0;height:100vh;max-height:100vh;max-width:100%;width:100%}.modal-header[data-v-24f0f76a]{padding:12px 15px}.modal-header h5[data-v-24f0f76a]{font-size:16px}.modal-body[data-v-24f0f76a]{padding:12px}.modal-footer[data-v-24f0f76a]{padding:12px 15px}.detail-row[data-v-24f0f76a]{align-items:flex-start;flex-direction:column;font-size:13px;gap:4px}.items-section h6[data-v-24f0f76a],.payments-section h6[data-v-24f0f76a]{font-size:14px}.items-cards-mobile[data-v-24f0f76a]{display:flex;flex-direction:column;gap:10px}.item-card-mobile[data-v-24f0f76a]{background:#f9f9f9;border-radius:6px;padding:10px}.item-name-mobile[data-v-24f0f76a]{color:#333;font-size:13px;font-weight:600;margin-bottom:6px}.item-details-mobile[data-v-24f0f76a]{align-items:center;color:#666;display:flex;font-size:12px;gap:10px;justify-content:space-between}.item-total-mobile[data-v-24f0f76a]{color:#2196f3;font-size:13px;font-weight:600}.variation[data-v-24f0f76a]{color:#888;font-size:11px}.totals-section[data-v-24f0f76a]{padding:12px}.total-row[data-v-24f0f76a]{font-size:13px}.total-row.grand-total[data-v-24f0f76a]{font-size:15px}.payment-row[data-v-24f0f76a]{font-size:13px;padding:6px 10px}.status-badge[data-v-24f0f76a]{font-size:11px;padding:3px 10px}}@media (max-width:360px){.page-header h2[data-v-24f0f76a],.summary-value[data-v-24f0f76a]{font-size:16px}.summary-label[data-v-24f0f76a]{font-size:10px}.summary-icon[data-v-24f0f76a]{height:35px;width:35px}.sale-number[data-v-24f0f76a],.sale-total[data-v-24f0f76a],.summary-icon[data-v-24f0f76a]{font-size:14px}}@media (max-width:1024px) and (orientation:landscape){.summary-cards[data-v-24f0f76a]{grid-template-columns:repeat(4,1fr)}}",""]);const i=n},7391:(t,a,e)=>{e.r(a),e.d(a,{default:()=>h});var r=e(9669),n=e.n(r);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){o=function(){return t};var t={},a=Object.prototype,e=a.hasOwnProperty,r=Object.defineProperty||function(t,a,e){t[a]=e.value},n="function"==typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",d=n.toStringTag||"@@toStringTag";function f(t,a,e){return Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[a]}try{f({},"")}catch(t){f=function(t,a,e){return t[a]=e}}function c(t,a,e,n){var i=a&&a.prototype instanceof v?a:v,o=Object.create(i.prototype),s=new j(n||[]);return r(o,"_invoke",{value:C(t,e,s)}),o}function p(t,a,e){try{return{type:"normal",arg:t.call(a,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function v(){}function m(){}function g(){}var h={};f(h,s,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(L([])));b&&b!==a&&e.call(b,s)&&(h=b);var x=g.prototype=v.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(a){f(t,a,(function(t){return this._invoke(a,t)}))}))}function w(t,a){function n(r,o,s,l){var d=p(t[r],t,o);if("throw"!==d.type){var f=d.arg,c=f.value;return c&&"object"==i(c)&&e.call(c,"__await")?a.resolve(c.__await).then((function(t){n("next",t,s,l)}),(function(t){n("throw",t,s,l)})):a.resolve(c).then((function(t){f.value=t,s(f)}),(function(t){return n("throw",t,s,l)}))}l(d.arg)}var o;r(this,"_invoke",{value:function(t,e){function r(){return new a((function(a,r){n(t,e,a,r)}))}return o=o?o.then(r,r):r()}})}function C(t,a,e){var r="suspendedStart";return function(n,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw i;return O()}for(e.method=n,e.arg=i;;){var o=e.delegate;if(o){var s=k(o,e);if(s){if(s===u)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var l=p(t,a,e);if("normal"===l.type){if(r=e.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:e.done}}"throw"===l.type&&(r="completed",e.method="throw",e.arg=l.arg)}}}function k(t,a){var e=a.method,r=t.iterator[e];if(void 0===r)return a.delegate=null,"throw"===e&&t.iterator.return&&(a.method="return",a.arg=void 0,k(t,a),"throw"===a.method)||"return"!==e&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+e+"' method")),u;var n=p(r,t.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,u;var i=n.arg;return i?i.done?(a[t.resultName]=i.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=void 0),a.delegate=null,u):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,u)}function S(t){var a={tryLoc:t[0]};1 in t&&(a.catchLoc=t[1]),2 in t&&(a.finallyLoc=t[2],a.afterLoc=t[3]),this.tryEntries.push(a)}function z(t){var a=t.completion||{};a.type="normal",delete a.arg,t.completion=a}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function L(t){if(t){var a=t[s];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function a(){for(;++r<t.length;)if(e.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=void 0,a.done=!0,a};return n.next=n}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=g,r(x,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:m,configurable:!0}),m.displayName=f(g,d,"GeneratorFunction"),t.isGeneratorFunction=function(t){var a="function"==typeof t&&t.constructor;return!!a&&(a===m||"GeneratorFunction"===(a.displayName||a.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,f(t,d,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},y(w.prototype),f(w.prototype,l,(function(){return this})),t.AsyncIterator=w,t.async=function(a,e,r,n,i){void 0===i&&(i=Promise);var o=new w(c(a,e,r,n),i);return t.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(x),f(x,d,"Generator"),f(x,s,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var a=Object(t),e=[];for(var r in a)e.push(r);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in a)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!t)for(var a in this)"t"===a.charAt(0)&&e.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(e,r){return o.type="throw",o.arg=t,a.next=e,r&&(a.method="next",a.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=e.call(i,"catchLoc"),l=e.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,a){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&e.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=a&&a<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=a,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(t,a){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&a&&(this.next=a),u},finish:function(t){for(var a=this.tryEntries.length-1;a>=0;--a){var e=this.tryEntries[a];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),z(e),u}},catch:function(t){for(var a=this.tryEntries.length-1;a>=0;--a){var e=this.tryEntries[a];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var n=r.arg;z(e)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,e){return this.delegate={iterator:L(t),resultName:a,nextLoc:e},"next"===this.method&&(this.arg=void 0),u}},t}function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){d(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function d(t,a,e){return(a=function(t){var a=function(t,a){if("object"!==i(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,a||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"===i(a)?a:String(a)}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function f(t,a,e,r,n,i,o){try{var s=t[i](o),l=s.value}catch(t){return void e(t)}s.done?a(l):Promise.resolve(l).then(r,n)}function c(t){return function(){var a=this,e=arguments;return new Promise((function(r,n){var i=t.apply(a,e);function o(t){f(i,r,n,o,s,"next",t)}function s(t){f(i,r,n,o,s,"throw",t)}o(void 0)}))}}const p={name:"PosSalesHistory",data:function(){return{loading:!0,sales:[],pagination:{current_page:1,last_page:1,per_page:20,total:0},filters:{status:"",from_date:"",to_date:""},summary:{total_sales:0,total_revenue:0,total_items:0,average_sale:0},showDetailModal:!1,selectedSale:null,isMobileView:!1}},computed:{isMobile:function(){return this.isMobileView}},methods:{loadSales:function(){var t=arguments,a=this;return c(o().mark((function e(){var r,i,s,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:1,a.loading=!0,e.prev=2,i=l({page:r,per_page:a.pagination.per_page},a.filters),e.next=6,n().get("/dashboard/api/pos/sales",{params:i});case 6:s=e.sent,d=s.data.data,a.sales=d.data||[],a.pagination={current_page:d.current_page,last_page:d.last_page,per_page:d.per_page,total:d.total},a.calculateSummary(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Failed to load sales:",e.t0);case 16:return e.prev=16,a.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))()},calculateSummary:function(){var t=this.sales.filter((function(t){return"completed"===t.status}));this.summary={total_sales:t.length,total_revenue:t.reduce((function(t,a){return t+parseFloat(a.total_amount||0)}),0),total_items:t.reduce((function(t,a){var e;return t+((null===(e=a.items)||void 0===e?void 0:e.length)||0)}),0),average_sale:t.length>0?t.reduce((function(t,a){return t+parseFloat(a.total_amount||0)}),0)/t.length:0}},goToPage:function(t){t>=1&&t<=this.pagination.last_page&&this.loadSales(t)},clearFilters:function(){this.filters={status:"",from_date:"",to_date:""},this.loadSales()},viewSale:function(t){var a=this;return c(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n().get("/dashboard/api/pos/sales/".concat(t.id));case 3:r=e.sent,a.selectedSale=r.data.data,a.showDetailModal=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to load sale details:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},printReceipt:function(t){return c(o().mark((function a(){var e,r;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n().get("/dashboard/api/pos/print/".concat(t.id,"/html"),{responseType:"text"});case 3:e=a.sent,(r=window.open("","_blank")).document.write(e.data),r.document.close(),r.print(),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error("Failed to print receipt:",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},formatCurrency:function(t){var a=t||0,e=a%1!=0,r=new Intl.NumberFormat("en-US",{minimumFractionDigits:e?1:0,maximumFractionDigits:e?2:0}).format(a),n=window.currency||"IQD";return"".concat(r," ").concat(n)},formatDate:function(t){return t?new Date(t).toLocaleDateString():"-"},formatDateTime:function(t){return t?new Date(t).toLocaleString():"-"},getMethodLabel:function(t){return{cash:"نقدي",card:"بطاقة",wallet:"محفظة",bank_transfer:"تحويل بنكي"}[t]||t},checkMobileView:function(){this.isMobileView=window.innerWidth<=480}},mounted:function(){var t=(new Date).toISOString().split("T")[0];this.filters.from_date=t,this.filters.to_date=t,this.loadSales(),this.checkMobileView(),window.addEventListener("resize",this.checkMobileView)},beforeUnmount:function(){window.removeEventListener("resize",this.checkMobileView)}};var u=e(3379),v=e.n(u),m=e(5001),g={insert:"head",singleton:!1};v()(m.Z,g);m.Z.locals;const h=(0,e(1900).Z)(p,(function(){var t,a,e=this,r=e._self._c;return r("div",{staticClass:"pos-history-page"},[r("div",{staticClass:"page-header"},[e._m(0),e._v(" "),r("router-link",{staticClass:"btn btn-primary",attrs:{to:"/dashboard/pos"}},[r("i",{staticClass:"fas fa-cash-register"}),e._v(" فتح نقطة البيع\n        ")])],1),e._v(" "),r("div",{staticClass:"filters-card"},[r("div",{staticClass:"filters-row"},[r("div",{staticClass:"filter-group"},[r("label",[e._v("الحالة")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.status,expression:"filters.status"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));e.$set(e.filters,"status",t.target.multiple?a:a[0])},e.loadSales]}},[r("option",{attrs:{value:""}},[e._v("جميع الحالات")]),e._v(" "),r("option",{attrs:{value:"completed"}},[e._v("مكتملة")]),e._v(" "),r("option",{attrs:{value:"voided"}},[e._v("ملغاة")]),e._v(" "),r("option",{attrs:{value:"parked"}},[e._v("مؤجلة")])])]),e._v(" "),r("div",{staticClass:"filter-group"},[r("label",[e._v("من تاريخ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.from_date,expression:"filters.from_date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.filters.from_date},on:{change:e.loadSales,input:function(t){t.target.composing||e.$set(e.filters,"from_date",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"filter-group"},[r("label",[e._v("إلى تاريخ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.to_date,expression:"filters.to_date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.filters.to_date},on:{change:e.loadSales,input:function(t){t.target.composing||e.$set(e.filters,"to_date",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"filter-group"},[r("label",[e._v(" ")]),e._v(" "),r("button",{staticClass:"btn btn-secondary",on:{click:e.clearFilters}},[r("i",{staticClass:"fas fa-times"}),e._v(" مسح\n                ")])])])]),e._v(" "),e.loading?e._e():r("div",{staticClass:"summary-cards"},[r("div",{staticClass:"summary-card"},[e._m(1),e._v(" "),r("div",{staticClass:"summary-info"},[r("div",{staticClass:"summary-value"},[e._v(e._s(e.summary.total_sales))]),e._v(" "),r("div",{staticClass:"summary-label"},[e._v("إجمالي المبيعات")])])]),e._v(" "),r("div",{staticClass:"summary-card"},[e._m(2),e._v(" "),r("div",{staticClass:"summary-info"},[r("div",{staticClass:"summary-value"},[e._v(e._s(e.formatCurrency(e.summary.total_revenue)))]),e._v(" "),r("div",{staticClass:"summary-label"},[e._v("إجمالي الإيرادات")])])]),e._v(" "),r("div",{staticClass:"summary-card"},[e._m(3),e._v(" "),r("div",{staticClass:"summary-info"},[r("div",{staticClass:"summary-value"},[e._v(e._s(e.summary.total_items))]),e._v(" "),r("div",{staticClass:"summary-label"},[e._v("الأصناف المباعة")])])]),e._v(" "),r("div",{staticClass:"summary-card"},[e._m(4),e._v(" "),r("div",{staticClass:"summary-info"},[r("div",{staticClass:"summary-value"},[e._v(e._s(e.formatCurrency(e.summary.average_sale)))]),e._v(" "),r("div",{staticClass:"summary-label"},[e._v("متوسط البيع")])])])]),e._v(" "),r("div",{staticClass:"sales-table-card"},[e.loading?r("div",{staticClass:"loading-state"},[r("i",{staticClass:"fas fa-spinner fa-spin"}),e._v(" جاري تحميل المبيعات...\n        ")]):0===e.sales.length?r("div",{staticClass:"empty-state"},[r("i",{staticClass:"fas fa-receipt"}),e._v(" "),r("p",[e._v("لم يتم العثور على مبيعات")])]):e.isMobile?r("div",{staticClass:"sales-cards-mobile"},e._l(e.sales,(function(t){var a,n;return r("div",{key:t.id,staticClass:"sale-card-mobile",on:{click:function(a){return e.viewSale(t)}}},[r("div",{staticClass:"sale-card-header"},[r("span",{staticClass:"sale-number-mobile"},[e._v(e._s(t.sale_number))]),e._v(" "),r("span",{staticClass:"status-badge",class:t.status},[e._v("\n                        "+e._s(t.status)+"\n                    ")])]),e._v(" "),r("div",{staticClass:"sale-card-body"},[r("div",{staticClass:"sale-card-row"},[r("span",{staticClass:"label"},[e._v("التاريخ:")]),e._v(" "),r("span",[e._v(e._s(e.formatDate(t.created_at)))])]),e._v(" "),r("div",{staticClass:"sale-card-row"},[r("span",{staticClass:"label"},[e._v("العميل:")]),e._v(" "),r("span",[e._v(e._s((null===(a=t.customer)||void 0===a?void 0:a.customer_name)||"-"))])]),e._v(" "),r("div",{staticClass:"sale-card-row"},[r("span",{staticClass:"label"},[e._v("الأصناف:")]),e._v(" "),r("span",[e._v(e._s((null===(n=t.items)||void 0===n?void 0:n.length)||0))])]),e._v(" "),r("div",{staticClass:"sale-card-row total-row-mobile"},[r("span",{staticClass:"label"},[e._v("الإجمالي:")]),e._v(" "),r("span",{staticClass:"sale-total-mobile"},[e._v(e._s(e.formatCurrency(t.total_amount)))])])]),e._v(" "),r("div",{staticClass:"sale-card-actions"},[r("button",{staticClass:"btn-action-mobile",attrs:{title:"عرض"},on:{click:function(a){return a.stopPropagation(),e.viewSale(t)}}},[r("i",{staticClass:"fas fa-eye"}),e._v(" عرض\n                    ")]),e._v(" "),r("button",{staticClass:"btn-action-mobile",attrs:{title:"طباعة"},on:{click:function(a){return a.stopPropagation(),e.printReceipt(t)}}},[r("i",{staticClass:"fas fa-print"}),e._v(" طباعة\n                    ")])])])})),0):r("table",{staticClass:"sales-table"},[e._m(5),e._v(" "),r("tbody",e._l(e.sales,(function(t){var a,n;return r("tr",{key:t.id,on:{click:function(a){return e.viewSale(t)}}},[r("td",{staticClass:"sale-number"},[e._v(e._s(t.sale_number))]),e._v(" "),r("td",[e._v(e._s(e.formatDate(t.created_at)))]),e._v(" "),r("td",[e._v(e._s((null===(a=t.customer)||void 0===a?void 0:a.customer_name)||"-"))]),e._v(" "),r("td",[e._v(e._s((null===(n=t.items)||void 0===n?void 0:n.length)||0))]),e._v(" "),r("td",{staticClass:"sale-total"},[e._v(e._s(e.formatCurrency(t.total_amount)))]),e._v(" "),r("td",[r("span",{staticClass:"status-badge",class:t.status},[e._v("\n                            "+e._s(t.status)+"\n                        ")])]),e._v(" "),r("td",{staticClass:"actions"},[r("button",{staticClass:"btn-action",attrs:{title:"عرض"},on:{click:function(a){return a.stopPropagation(),e.viewSale(t)}}},[r("i",{staticClass:"fas fa-eye"})]),e._v(" "),r("button",{staticClass:"btn-action",attrs:{title:"طباعة"},on:{click:function(a){return a.stopPropagation(),e.printReceipt(t)}}},[r("i",{staticClass:"fas fa-print"})])])])})),0)]),e._v(" "),e.pagination.last_page>1?r("div",{staticClass:"pagination"},[r("button",{staticClass:"page-btn",attrs:{disabled:e.pagination.current_page<=1},on:{click:function(t){return e.goToPage(e.pagination.current_page-1)}}},[r("i",{staticClass:"fas fa-chevron-left"})]),e._v(" "),r("span",{staticClass:"page-info"},[e._v("\n                صفحة "+e._s(e.pagination.current_page)+" من "+e._s(e.pagination.last_page)+"\n            ")]),e._v(" "),r("button",{staticClass:"page-btn",attrs:{disabled:e.pagination.current_page>=e.pagination.last_page},on:{click:function(t){return e.goToPage(e.pagination.current_page+1)}}},[r("i",{staticClass:"fas fa-chevron-right"})])]):e._e()]),e._v(" "),e.showDetailModal?r("div",{staticClass:"modal-overlay",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.showDetailModal=!1}}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",[e._v("تفاصيل البيع - "+e._s(null===(t=e.selectedSale)||void 0===t?void 0:t.sale_number))]),e._v(" "),r("button",{staticClass:"close-btn",on:{click:function(t){e.showDetailModal=!1}}},[r("i",{staticClass:"fas fa-times"})])]),e._v(" "),e.selectedSale?r("div",{staticClass:"modal-body"},[r("div",{staticClass:"detail-section"},[r("div",{staticClass:"detail-row"},[r("span",[e._v("التاريخ:")]),e._v(" "),r("span",[e._v(e._s(e.formatDateTime(e.selectedSale.created_at)))])]),e._v(" "),r("div",{staticClass:"detail-row"},[r("span",[e._v("الحالة:")]),e._v(" "),r("span",{staticClass:"status-badge",class:e.selectedSale.status},[e._v("\n                            "+e._s(e.selectedSale.status)+"\n                        ")])]),e._v(" "),e.selectedSale.customer?r("div",{staticClass:"detail-row"},[r("span",[e._v("العميل:")]),e._v(" "),r("span",[e._v(e._s(e.selectedSale.customer.customer_name))])]):e._e(),e._v(" "),e.selectedSale.created_by?r("div",{staticClass:"detail-row"},[r("span",[e._v("الكاشير:")]),e._v(" "),r("span",[e._v(e._s(e.selectedSale.created_by.name))])]):e._e()]),e._v(" "),r("div",{staticClass:"items-section"},[r("h6",[e._v("الأصناف")]),e._v(" "),e.isMobile?r("div",{staticClass:"items-cards-mobile"},e._l(e.selectedSale.items,(function(t){return r("div",{key:t.id,staticClass:"item-card-mobile"},[r("div",{staticClass:"item-name-mobile"},[e._v("\n                                "+e._s(t.product_name)+"\n                                "),t.variation_name?r("span",{staticClass:"variation"},[e._v("\n                                    ("+e._s(t.variation_name)+")\n                                ")]):e._e()]),e._v(" "),r("div",{staticClass:"item-details-mobile"},[r("span",[e._v("الكمية: "+e._s(t.quantity))]),e._v(" "),r("span",[e._v(e._s(e.formatCurrency(t.unit_price)))]),e._v(" "),r("span",{staticClass:"item-total-mobile"},[e._v(e._s(e.formatCurrency(t.line_total)))])])])})),0):r("table",{staticClass:"items-table"},[e._m(6),e._v(" "),r("tbody",e._l(e.selectedSale.items,(function(t){return r("tr",{key:t.id},[r("td",[e._v("\n                                    "+e._s(t.product_name)+"\n                                    "),t.variation_name?r("span",{staticClass:"variation"},[e._v("\n                                        ("+e._s(t.variation_name)+")\n                                    ")]):e._e()]),e._v(" "),r("td",[e._v(e._s(t.quantity))]),e._v(" "),r("td",[e._v(e._s(e.formatCurrency(t.unit_price)))]),e._v(" "),r("td",[e._v(e._s(e.formatCurrency(t.line_total)))])])})),0)])]),e._v(" "),r("div",{staticClass:"totals-section"},[r("div",{staticClass:"total-row"},[r("span",[e._v("المجموع الفرعي:")]),e._v(" "),r("span",[e._v(e._s(e.formatCurrency(e.selectedSale.subtotal)))])]),e._v(" "),e.selectedSale.discount_value>0?r("div",{staticClass:"total-row"},[r("span",[e._v("الخصم:")]),e._v(" "),r("span",{staticClass:"text-success"},[e._v("-"+e._s(e.formatCurrency(e.selectedSale.discount_value)))])]):e._e(),e._v(" "),e.selectedSale.tax_amount>0?r("div",{staticClass:"total-row"},[r("span",[e._v("الضريبة ("+e._s(e.selectedSale.tax_rate)+"%):")]),e._v(" "),r("span",[e._v(e._s(e.formatCurrency(e.selectedSale.tax_amount)))])]):e._e(),e._v(" "),r("div",{staticClass:"total-row grand-total"},[r("span",[e._v("الإجمالي:")]),e._v(" "),r("span",[e._v(e._s(e.formatCurrency(e.selectedSale.total_amount)))])])]),e._v(" "),null!==(a=e.selectedSale.payments)&&void 0!==a&&a.length?r("div",{staticClass:"payments-section"},[r("h6",[e._v("المدفوعات")]),e._v(" "),e._l(e.selectedSale.payments,(function(t){return r("div",{key:t.id,staticClass:"payment-row"},[r("span",[e._v(e._s(e.getMethodLabel(t.payment_method)))]),e._v(" "),r("span",[e._v(e._s(e.formatCurrency(t.amount)))])])})),e._v(" "),e.selectedSale.change_amount>0?r("div",{staticClass:"payment-row"},[r("span",[e._v("الباقي:")]),e._v(" "),r("span",[e._v(e._s(e.formatCurrency(e.selectedSale.change_amount)))])]):e._e()],2):e._e()]):e._e(),e._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.printReceipt(e.selectedSale)}}},[r("i",{staticClass:"fas fa-print"}),e._v(" طباعة الإيصال\n                ")]),e._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:function(t){e.showDetailModal=!1}}},[e._v("\n                    إغلاق\n                ")])])])]):e._e()])}),[function(){var t=this._self._c;return t("h2",[t("i",{staticClass:"fas fa-history"}),this._v(" سجل مبيعات نقطة البيع")])},function(){var t=this._self._c;return t("div",{staticClass:"summary-icon"},[t("i",{staticClass:"fas fa-shopping-cart"})])},function(){var t=this._self._c;return t("div",{staticClass:"summary-icon revenue"},[t("i",{staticClass:"fas fa-dollar-sign"})])},function(){var t=this._self._c;return t("div",{staticClass:"summary-icon items"},[t("i",{staticClass:"fas fa-box"})])},function(){var t=this._self._c;return t("div",{staticClass:"summary-icon avg"},[t("i",{staticClass:"fas fa-chart-line"})])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("رقم البيع")]),t._v(" "),a("th",[t._v("التاريخ")]),t._v(" "),a("th",[t._v("العميل")]),t._v(" "),a("th",[t._v("الأصناف")]),t._v(" "),a("th",[t._v("الإجمالي")]),t._v(" "),a("th",[t._v("الحالة")]),t._v(" "),a("th",[t._v("الإجراءات")])])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("المنتج")]),t._v(" "),a("th",[t._v("الكمية")]),t._v(" "),a("th",[t._v("السعر")]),t._v(" "),a("th",[t._v("الإجمالي")])])])}],!1,null,"24f0f76a",null).exports}}]);